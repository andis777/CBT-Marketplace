# –ö–ü–¢.—Ä—Ñ - –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –∏ —É—á–µ–±–Ω—ã—Ö –∑–∞–≤–µ–¥–µ–Ω–∏–π

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –∏ —É—á–µ–±–Ω—ã—Ö –∑–∞–≤–µ–¥–µ–Ω–∏–π –≤ –æ–±–ª–∞—Å—Ç–∏ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ-–ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–æ–π —Ç–µ—Ä–∞–ø–∏–∏.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîç –ü–æ–∏—Å–∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≥–æ—Ä–æ–¥—É, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Ä–µ–π—Ç–∏–Ω–≥—É
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ–ø—ã—Ç–∞ –∏ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —É—á–µ–±–Ω—ã–º–∏ –∑–∞–≤–µ–¥–µ–Ω–∏—è–º–∏
- –°–∏—Å—Ç–µ–º–∞ –æ—Ç–∑—ã–≤–æ–≤ –∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤

### üè´ –ö–∞—Ç–∞–ª–æ–≥ —É—á–µ–±–Ω—ã—Ö –∑–∞–≤–µ–¥–µ–Ω–∏–π
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö –æ–±—É—á–µ–Ω–∏—è
- –°—Ç–æ–∏–º–æ—Å—Ç—å –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫—É—Ä—Å–æ–≤
- –°–ø–∏—Å–æ–∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤

### üìù –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
- –°—Ç–∞—Ç—å–∏ –æ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
- –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ –ö–ü–¢
- –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### üìÖ –û–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å
- –£–¥–æ–±–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
- –°–∏—Å—Ç–µ–º–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏

### üíé –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ
- –¢–æ–ø —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç
- –ü—Ä–µ–º–∏—É–º —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Frontend
- React 18
- TypeScript
- Vite
- Tailwind CSS
- React Router
- Axios
- Framer Motion

### Backend
- Node.js
- Express
- MySQL
- Knex.js
- JWT Auth
- Swagger API

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/your-username/cbt-marketplace.git
cd cbt-marketplace
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
```

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```env
# API
PORT=8443
JWT_SECRET=your-secret-key

# Database
DB_HOST=localhost
DB_USER=your-db-user
DB_PASS=your-db-password
DB_NAME=kpt

# YooKassa
YOOKASSA_SHOP_ID=your-shop-id
YOOKASSA_SECRET_KEY=your-secret-key
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```bash
npm run migrate
```

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
```bash
# Frontend
npm run dev

# API
npm run api
```

## API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/auth/login` - –í—Ö–æ–¥
- `POST /api/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `GET /api/auth/me` - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

### –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã
- `GET /api/psychologists` - –°–ø–∏—Å–æ–∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
- `GET /api/psychologists/{id}` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–µ
- `POST /api/psychologists/{id}` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- `POST /api/psychologists/{id}/verify` - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

### –£—á–µ–±–Ω—ã–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è
- `GET /api/institutions` - –°–ø–∏—Å–æ–∫ —É—á–µ–±–Ω—ã—Ö –∑–∞–≤–µ–¥–µ–Ω–∏–π
- `GET /api/institutions/{id}` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—á–µ–±–Ω–æ–º –∑–∞–≤–µ–¥–µ–Ω–∏–∏
- `POST /api/institutions/verify-psychologist` - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞

### –°—Ç–∞—Ç—å–∏
- `GET /api/articles` - –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π
- `GET /api/articles/{id}` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
- `POST /api/articles` - –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏

### –ó–∞–ø–∏—Å–∏
- `GET /api/appointments` - –°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π
- `POST /api/appointments` - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- `PUT /api/appointments/{id}/status` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞

### –ü–ª–∞—Ç–µ–∂–∏
- `POST /api/payment` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
- `GET /api/payment/history` - –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π
- `POST /api/payment/webhook` - Webhook –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- `GET /api/requests` - –°–ø–∏—Å–æ–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é
- `PUT /api/requests/{id}/status` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–ø—Ä–æ—Å–∞

## API –ó–∞–ø—Ä–æ—Å—ã

### –§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–æ–≤

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:

```http
Content-Type: application/json
Authorization: Bearer <token>
```

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

#### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

```http
POST /api/auth/login
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "password123"
}
```

#### –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞

```http
POST /api/institutions/verify-psychologist
Content-Type: application/json
Authorization: Bearer <token>

{
  "psychologist_id": "psych123",
  "institution_id": "inst456",
  "is_verified": true,
  "verification_notes": "–î–∏–ø–ª–æ–º –ø—Ä–æ–≤–µ—Ä–µ–Ω"
}
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–ø—Ä–æ—Å–∞

```http
PUT /api/requests/{id}/status
Content-Type: application/json
Authorization: Bearer <token>

{
  "status": "approved",
  "notes": "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ"
}
```

### –û—Ç–≤–µ—Ç—ã API

–í—Å–µ –æ—Ç–≤–µ—Ç—ã API –∏–º–µ—é—Ç —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

```json
{
  "success": true,
  "data": {
    // –î–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç–∞
  },
  "error": null // –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
}
```

### –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

- 200: –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- 201: –†–µ—Å—É—Ä—Å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω
- 400: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- 401: –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- 403: –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- 404: –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- 500: –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º:

```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
  }
}

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
cbt-marketplace/
‚îú‚îÄ‚îÄ src/                  # Frontend –∏—Å—Ö–æ–¥–Ω–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ components/       # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ contexts/         # React –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ hooks/           # –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ lib/             # –£—Ç–∏–ª–∏—Ç—ã –∏ API
‚îÇ   ‚îú‚îÄ‚îÄ pages/           # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ types/           # TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ api/                 # Backend –∏—Å—Ö–æ–¥–Ω–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ routes/          # API –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ models/          # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ db/              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ core/            # –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏
‚îú‚îÄ‚îÄ public/              # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ supabase/            # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ö–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev

# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run build

# –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞
npm run api

# –ó–∞–ø—É—Å–∫ API —Å SSL
npm run api:ssl

# –õ–∏–Ω—Ç–∏–Ω–≥
npm run lint
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
VITE_API_URL=http://localhost:8443
JWT_SECRET=your-secret-key
```

## –î–µ–ø–ª–æ–π

1. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
npm run build
```

2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Apache:
```apache
<VirtualHost *:443>
    ServerName kpt.arisweb.ru
    DocumentRoot /var/www/html/dist

    SSLEngine on
    SSLCertificateFile /path/to/cert.crt
    SSLCertificateKeyFile /path/to/key.key

    <Directory /var/www/html/dist>
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    ProxyPass /api http://localhost:8443/api
    ProxyPassReverse /api http://localhost:8443/api
</VirtualHost>
```

3. –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞:
```bash
NODE_ENV=production npm run api:ssl
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License. –°–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.